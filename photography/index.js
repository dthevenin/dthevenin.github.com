!function s(r,a,l){function h(e,t){if(!a[e]){if(!r[e]){var o="function"==typeof require&&require;if(!t&&o)return o(e,!0);if(u)return u(e,!0);var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}var i=a[e]={exports:{}};r[e][0].call(i.exports,function(t){return h(r[e][1][t]||t)},i,i.exports,s,r,a,l)}return a[e].exports}for(var u="function"==typeof require&&require,t=0;t<l.length;t++)h(l[t]);return h}({1:[function(t,e,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;o.default=["photos/home.json","photos/sumo.json","photos/arbres.json","photos/maroc.json"]},{}],2:[function(t,e,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var n=function(e){return new Promise(function(o,n){var t=new XMLHttpRequest;t?(t.onreadystatechange=function(){return function(t){if(t.readyState===XMLHttpRequest.DONE)if(200===t.status)try{var e=JSON.parse(t.responseText);o(e)}catch(t){n(t)}else n("There was a problem with the request.")}(t)},t.open("GET",e),t.setRequestHeader("Content-Type","application/json"),t.withCredentials=!0,t.send()):n("Giving up :( Cannot create an XMLHTTP instance")})};o.default=n},{}],3:[function(t,e,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var i=t("./photosLoader");function s(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var r=Symbol("HomeScroll_singleton"),a=Symbol("HomeScroll_service"),n=function(){function e(t){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),t!==a)throw new Error("Cannot construct singleton");this.currentPhotoIdx=0,this.nextPhotoToLoadIdx=0,this.photoData=null}var t,o,n;return t=e,n=[{key:"instance",get:function(){return this[r]||(this[r]=new e(a)),this[r]}}],(o=[{key:"init",value:function(t,e){var o=this;e.addEventListener("resize",function(){return o.resizeImage()});var n=t.querySelector(".button-left"),i=t.querySelector(".button-right");n.style.display="none",i.style.display="none",this.fullScreen=t.querySelector(".full-screen"),this.slideShow=t.querySelector(".slide-show"),this.fullScreen.style.display="block",this.slideShow.style.display="none"}},{key:"resizeImage",value:function(){this._resizeImage(this.mainImage),this._resizeImage(this.secondImage)}},{key:"hide",value:function(){this.stopAutoscroll(),this.fullScreen.style.display="none"}},{key:"show",value:function(){this.startAutoscroll(),this.fullScreen.style.display="block"}},{key:"_resizeImage",value:function(t){if(t){var e=t.offsetWidth,o=t.offsetHeight,n=this.fullScreen,i=n.offsetWidth,s=n.offsetHeight,r=0;e/o<i/s?(t.setAttribute("width","100%"),t.removeAttribute("height"),r=(s-o/(e/i))/2,t.style.left="0",t.style.top="".concat(r,"px")):(t.removeAttribute("width"),t.setAttribute("height","100%"),r=(i-e/(o/s))/2,t.style.top="0",t.style.left="".concat(r,"px"))}}},{key:"setData",value:function(t){this.setupPhotoShow(t)}},{key:"setupPhotoShow",value:function(t){var e=this;this.fullScreen.textContent="",this.currentPhotoIdx=0,this.nextPhotoToLoadIdx=0,this.photoData=t,this.mainImage=document.createElement("img"),this.mainImage.className="photo",this.mainImage.style.opacity="0",this.secondImage=document.createElement("img"),this.secondImage.className="photo",this.secondImage.style.opacity="1",this.fullScreen.appendChild(this.mainImage),this.fullScreen.appendChild(this.secondImage),this.listImages=[],(0,i.loadPhotos)(t,function(t){e.listImages.push(t),1==e.listImages.length&&(e.showPhoto(0),e.startAutoscroll())})}},{key:"startAutoscroll",value:function(){var t=this;this.interval||(this.interval=setInterval(function(){t.showPhoto(t.currentPhotoIdx+1)},5e3))}},{key:"stopAutoscroll",value:function(){clearInterval(this.interval),this.interval=0}},{key:"showPhoto",value:function(t){var e=this.listImages.length,o=(t+e)%e,n=this.listImages[o];this.secondImage.src=n.src,this.secondImage.style.opacity="1",this.mainImage.style.opacity="0",this.currentPhotoIdx=o,this.resizeImage();var i=this.mainImage;this.mainImage=this.secondImage,this.secondImage=i}}])&&s(t.prototype,o),n&&s(t,n),e}().instance;o.default=n},{"./photosLoader":6}],4:[function(t,e,o){"use strict";var n=a(t("./photoScroll")),i=a(t("./homeScroll")),s=a(t("./getDescription")),r=a(t("./descriptions"));function a(t){return t&&t.__esModule?t:{default:t}}var l;n.default.init(document,window),i.default.init(document,window),l=r.default.shift(),(0,s.default)(l).then(function(t){return i.default.setData(t)}),Promise.all(r.default.map(function(t){return(0,s.default)(t)})).then(function(t){!function(t){document.getElementById("title").onclick=function(){i.default.show(),n.default.hide()};var o=document.getElementById("menu");t.forEach(function(t){var e=document.createElement("li");e.textContent=t.name,e.onclick=function(){i.default.hide(),n.default.setupPhotoShow(t),n.default.show()},o.appendChild(e)})}(t)})},{"./descriptions":1,"./getDescription":2,"./homeScroll":3,"./photoScroll":5}],5:[function(t,e,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var i=t("./photosLoader");function s(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var r,a,l=Symbol("photoscroll_singleton"),h=Symbol("photoscroll_service"),n=function(){function e(t){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),t!==h)throw new Error("Cannot construct singleton");this.currentPhotoIdx=0,this.nextPhotoToLoadIdx=0,this.photoData=null}var t,o,n;return t=e,n=[{key:"instance",get:function(){return this[l]||(this[l]=new e(h)),this[l]}}],(o=[{key:"init",value:function(t,e){var o=this;e.addEventListener("resize",function(){o.shouldLoadNextPhoto()&&o.loadNextPhoto()}),r=t.querySelector(".button-left"),a=t.querySelector(".button-right"),r.style.display="none",a.style.display="none",r.addEventListener("click",function(){return o.scrollLeft()}),a.addEventListener("click",function(){return o.scrollRight()}),t.documentElement.addEventListener("keydown",function(t){return o.onKeyDown(t)}),this.photosDiv=t.querySelector(".photos"),this.slideShow=t.querySelector(".slide-show")}},{key:"hide",value:function(){this.slideShow.style.display="none"}},{key:"show",value:function(){this.slideShow.style.display="block"}},{key:"canScrollLeft",value:function(){return 0<this.currentPhotoIdx}},{key:"setupPhotoShow",value:function(t){this.photosDiv.textContent="",r.style.display="none",a.style.display="none",this.currentPhotoIdx=0,this.nextPhotoToLoadIdx=0,this.photoData=t,this.photosDiv.style.transform="",this.shouldLoadNextPhoto()&&(this.loadNextPhoto(),this.configureButtons())}},{key:"canScrollRight",value:function(){var t=document.querySelectorAll(".photos .photo");return!!t.length&&(t.length!=this.currentPhotoIdx&&t.item(t.length-1).getBoundingClientRect().right>this.slideShow.offsetWidth)}},{key:"shouldLoadNextPhoto",value:function(){var t=document.querySelectorAll(".photos .photo");return!(!this.photoData||!this.photoData.images.length||this.nextPhotoToLoadIdx>=this.photoData.images.length)&&(!t.length||t.item(t.length-1).getBoundingClientRect().left<this.slideShow.offsetWidth)}},{key:"loadNextPhoto",value:function(){var o=this,t=this.photoData.images[this.nextPhotoToLoadIdx++];(0,i.loadPhoto)(this.photoData.imagePath,t.name).then(function(t){var e=document.createElement("img");e.src=t.src,e.className="photo",o.photosDiv.appendChild(e),setTimeout(function(){e.className="photo visible"},0),o.shouldLoadNextPhoto()&&o.loadNextPhoto()})}},{key:"showPhoto",value:function(t){var e=document.querySelectorAll(".photos .photo");t=(t+e.length)%e.length;var o=e.item(t),n=e.item(0),i=o.offsetLeft-n.offsetLeft;this.photosDiv.style.transform="translate(-".concat(i,"px)"),this.currentPhotoIdx=t,this.shouldLoadNextPhoto()&&this.loadNextPhoto()}},{key:"scrollLeft",value:function(){this.canScrollLeft()&&(this.showPhoto(this.currentPhotoIdx-1),this.configureButtons())}},{key:"scrollRight",value:function(){this.canScrollRight()&&(this.showPhoto(this.currentPhotoIdx+1),this.configureButtons())}},{key:"configureButtons",value:function(){this.currentPhotoIdx?r.style.display="block":r.style.display="none",this.currentPhotoIdx===this.photoData.images.length-1?a.style.display="none":a.style.display="block"}},{key:"onKeyDown",value:function(t){switch(t.keyCode){case 37:t.preventDefault(),this.scrollLeft();break;case 39:t.preventDefault(),this.scrollRight()}}}])&&s(t.prototype,o),n&&s(t,n),e}().instance;o.default=n},{"./photosLoader":6}],6:[function(t,e,o){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.loadPhotos=o.loadPhoto=void 0;var s=function(i,s){return new Promise(function(t,e){var o=new Image,n=i+s;o.onload=function(){return t(o)},o.src=n,o.onabort=function(){return e()}})};o.loadPhoto=s;o.loadPhotos=function(n,i){n.images.reduce(function(t,e){var o=e.name;return t.then(function(t){return t&&i&&setTimeout(function(){return i(t)},0),s(n.imagePath,o)})},Promise.resolve())}},{}]},{},[4]);